<!doctype html>

<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1" />

    <title>Polymer Example</title>

    <script src="../../webcomponentsjs/webcomponents-lite.js"></script>

    <link rel="import" href="../vaadin-grid.html">
    <link rel="import" href="../../paper-checkbox/paper-checkbox.html">
    <link rel="import" href="../../paper-input/paper-input.html">

    <style>
    </style>
  </head>

  <body>

    <dom-module id="x-app">
      <template>
        <style>
          #component {
            height: 600px;
          }

          progress {
            width: 50px;
          }

          :host ::content th,
          :host ::content tfoot td {
          }
          :host ::content th:last-child,
          :host ::content tfoot td:last-child {
          }
        </style>
        <vaadin-grid id="component" data-source="[[dataSource]]" size="20" multi-selection>
          <vaadin-grid-column class="C0" width="30px" flex="0">
            <template is="header" class="c0">TC0</template>
            <template>[[index]]</template>
          </vaadin-grid-column>

          <vaadin-grid-column-group class="G1" frozen>
            <template is="header" class="g1">TG1</template>

            <vaadin-grid-column class="C1">
              <template is="header" class="c1">TC1</template>
              <template><span class="elItem">[[item.name]]</span></template>
              <template is="footer" class="c1">TCF1</template>
            </vaadin-grid-column>

            <vaadin-grid-column class="C2">
              <template is="header" class="c2-h1">TC2</template>
              <template><paper-input value="{{item.name}}"></paper-input></template>
              <template is="footer" class="c2">TCF2</template>
            </vaadin-grid-column>

            <template is="footer" class="gf1">TGF1</template>
          </vaadin-grid-column-group>

          <vaadin-grid-column-group class="G2">
            <template is="header" class="g2">TG2</template>

            <vaadin-grid-column class="C3">
              <template><div>baz-[[index]]</div></template>
              <template is="header" class="g2">TC3</template>
            </vaadin-grid-column>

            <vaadin-grid-column-group class="G3">
              <template is="header" class="g3">TG3</template>

              <vaadin-grid-column class="C4" width="20px">
                <template is="header" class="c4">TC4</template>
                <template>[[index]]</template>
              </vaadin-grid-column>
              <vaadin-grid-column class="C5" flex="0" width="80px">
                <template is="header" class="c5">TC5</template>
                <template><progress value="[[index]]" max="25"></progress></template>
              </vaadin-grid-column>
              <vaadin-grid-column class="C6" flex="2" width="200px">
                <template is="header" class="c6">TC6</template>
                <template><paper-checkbox>Details</paper-checkbox></template>
              </vaadin-grid-column>

            </vaadin-grid-column-group>
          </vaadin-grid-column-group>
        </vaadin-grid>
      </template>
      <script>

        document.addEventListener('WebComponentsReady', function () {
          Polymer({
            is: 'x-app',

            properties: {
              dataSource: {
                value: function() {
                  return function(opts, callback) {
                    setTimeout(function() {
                      var result = [];
                      var firstIndex = opts.page * opts.pageSize;
                      for (var i = 0; i < opts.pageSize; i++) {
                        result.push({
                          name: 'name-' + (firstIndex + i)
                        });
                      }
                      callback(result);
                    }, 100);
                  };
                }
              }
            }
          });
        });
      </script>
    </dom-module>

    <x-app></x-app>

  </body>
</html>
